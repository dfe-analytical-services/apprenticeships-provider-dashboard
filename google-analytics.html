<script>
// Define dataLayer and the gtag function.
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

// Default ad_storage to 'denied' as a placeholder
// Determine actual values based on your own requirements
gtag('consent', 'default', {
  'ad_storage': 'denied',
  'analytics_storage': 'denied'
});
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src='https://www.googletagmanager.com/gtag/js?id=G-HQTQE5QDNS'></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());

  gtag('config', 'G-HQTQE5QDNS');

/*
The custom trackers below can be tailored to match the inputs used in your
dashboard.
*/

  $(document).on('click', 'ul#contents_links', function(e) {
    gtag('event', 'contents_links', {'event_category' : 'navigation click',
    'event_label' : document.querySelector(
    'ul#left_nav > li > a.active'
    ).getAttribute('data-value')
    });
  });

  $(document).on('shiny:disconnected', function(e) {
    gtag('event', 'disconnect', {
      'event_label' : 'Disconnect',
      'event_category' : 'Disconnect'
    });
  });

</script>
